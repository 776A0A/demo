<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="result"></div>
    <script type="text/html" id="app">
        <%for ( var i = 0; i < users.length; i++ ) { %>
            <li>
                <a href="<%=users[i].url%>">
                    <%=users[i].name%>
                </a>
            </li>
        <% } %>
    </script>
    <!-- <script>
        var users = [
            { "name": "Byron", "url": "http://localhost" },
            { "name": "Casper", "url": "http://localhost" },
            { "name": "Frank", "url": "http://localhost" }
        ]
        function compiler(selector) {
            let str = document.getElementById(selector).innerHTML;
            str = `p.push('${
                str
                    .replace(/[\r\n\t]/g, '')
                    .replace(/<%=(.*?)%>/g, `');p.push($1);p.push('`)
                    .replace(/%>/g, `p.push('`)
                    .replace(/<%/g, `');`)
                }');`;

            const fn = Function('obj', `
                var p = [];
                ${str}
                return p.join('')
            `)
            return fn;
        }

        result.innerHTML = compiler('app')();
    </script> -->
</body>

</html>